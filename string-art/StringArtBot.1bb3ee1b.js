!function(){function t(t){var e=window.speechSynthesis,n="";if(0===[].length)var a=e.getVoices();for(var r=0;r<a.length;r++)"ru-RU"==a[r].lang&&(n=a[r]);var o=new SpeechSynthesisUtterance(t);o.voice=n,e.speak(o)}let e=294;const n={formElem:document.querySelector(".js-form"),form1Elem:document.querySelector(".js-form1"),canvas:document.querySelector("canvas"),btnElems:document.querySelector(".js-btn")},a=n.canvas.getContext("2d");a.lineWidth=1;let r=[];const o={currentPoint:0};function c(){o.currentPoint=0,0===r.length&&(r=JSON.parse(localStorage.getItem("dataPoint")),o.currentPoint=Number(localStorage.getItem("lastPoint"))),s()}function l(){o.currentPoint++,s()}function i(){o.currentPoint--,s()}function s(){localStorage.setItem("points",JSON.stringify(o)),localStorage.setItem("lastPoint",o.currentPoint);const c=+(r[o.currentPoint-1]||0),l=+(r[o.currentPoint]||0),i=+(r[o.currentPoint+1]||0);n.form1Elem.elements.point.value=o.currentPoint,a.clearRect(0,0,n.canvas.width,n.canvas.height),function(t,n,a,r,...o){const c=2*Math.PI/a;for(let o=0;o<a;o++){let a=c*(e-(o-Math.round(73.5)));const l={x:n*Math.sin(a)+r.x,y:n*Math.cos(a)+r.y},i=o%10==0?4:2;t.fillStyle="black",t.beginPath(),t.ellipse(l.x,l.y,i,i,0,0,2*Math.PI),t.fill()}for(let a=0;a<o.length;a++){let l=c*(e-(+o[a]-Math.round(73.5)));const i={x:n*Math.sin(l)+r.x,y:n*Math.cos(l)+r.y};let s=5;switch(a){case 0:t.fillStyle="green";break;case 1:t.fillStyle="red",s=15;break;case 2:t.fillStyle="blue"}t.beginPath(),t.ellipse(i.x,i.y,s,s,0,0,2*Math.PI),t.fill()}}(a,n.canvas.width/2-5,e,{x:n.canvas.width/2,y:n.canvas.height/2},c,l,i);try{t(r[o.currentPoint])}catch{console.log("err")}u(a,c,{x:n.canvas.width/2,y:n.canvas.height/2-200},40),u(a,l,{x:n.canvas.width/2,y:n.canvas.height/2}),u(a,i,{x:n.canvas.width/2,y:n.canvas.height/2+200},40)}function u(t,e,{x:n,y:a},r=100){t.fillStyle="black",t.font=`${r}px serif`,t.textAlign="center",t.fillText(e,n,a)}n.formElem.addEventListener("submit",(t=>{t.preventDefault();const e=t.target.elements.data.value;e?(r=e.split("\n"),localStorage.setItem("dataPoint",JSON.stringify(r)),localStorage.setItem("lastPoint",0)):c()})),n.form1Elem.addEventListener("submit",(t=>{t.preventDefault();!function(t){o.currentPoint=t,s()}(Number(t.target.elements.point.value))})),document.body.addEventListener("keydown",(t=>{"Enter"===t.code?c():"ArrowLeft"===t.code?i():"ArrowRight"!==t.code&&"Space"!==t.code||l()})),n.btnElems.addEventListener("click",(t=>{if(t.target!=t.currentTarget){"prev"==t.target.closest("button").dataset.value?i():l()}})),n.canvas.addEventListener("click",(()=>{l()}))}();
//# sourceMappingURL=StringArtBot.1bb3ee1b.js.map
