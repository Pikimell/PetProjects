const refs={formElem:document.querySelector(".js-form"),canvas:document.querySelector("canvas")},ctx=refs.canvas.getContext("2d");ctx.lineWidth=1;let arrPoints=[];const drawPoints={currentPoint:0};function saveData(){localStorage.setItem("points",JSON.stringify(drawPoints)),localStorage.setItem("lastPoint",drawPoints.currentPoint)}function loadData(t){arrPoints=t.split("\n"),localStorage.setItem("dataPoint",JSON.stringify(arrPoints)),localStorage.setItem("lastPoint",0)}function draw(){saveData();const t=+(arrPoints[drawPoints.currentPoint-1]||0),e=+(arrPoints[drawPoints.currentPoint]||0),a=+(arrPoints[drawPoints.currentPoint+1]||0);ctx.clearRect(0,0,refs.canvas.width,refs.canvas.height),drawCircle(ctx,refs.canvas.width/2-5,300,{x:refs.canvas.width/2,y:refs.canvas.height/2},t,e,a),drawText(ctx,t,{x:refs.canvas.width/2,y:refs.canvas.height/2-200},40),drawText(ctx,e,{x:refs.canvas.width/2,y:refs.canvas.height/2}),drawText(ctx,a,{x:refs.canvas.width/2,y:refs.canvas.height/2+200},40)}function drawText(t,e,{x:a,y:n},r=100){t.fillStyle="black",t.font=`${r}px serif`,t.textAlign="center",t.fillText(e,a,n)}function drawCircle(t,e,a,n,...r){const s=2*Math.PI/a;for(let r=0;r<a;r++){let a=s*r;const i={x:e*Math.sin(a)+n.x,y:e*Math.cos(a)+n.y},o=r%10==0?4:2;t.fillStyle="black",t.beginPath(),t.ellipse(i.x,i.y,o,o,0,0,2*Math.PI),t.fill()}for(let i=0;i<r.length;i++){let o=s*(a-+r[i]);const c={x:e*Math.sin(o)+n.x,y:e*Math.cos(o)+n.y};let l=5;switch(i){case 0:t.fillStyle="green";break;case 1:t.fillStyle="red",l=15;break;case 2:t.fillStyle="blue"}t.beginPath(),t.ellipse(c.x,c.y,l,l,0,0,2*Math.PI),t.fill()}}function drawLine(t,e,a,n,r,s){e-=60,a-=60;const i=2*Math.PI/n,o={x:s*Math.sin(i*e)+r.x,y:s*Math.cos(i*e)+r.y},c={x:s*Math.sin(i*a)+r.x,y:s*Math.cos(i*a)+r.y};t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(c.x,c.y),t.stroke()}refs.formElem.addEventListener("submit",(t=>{t.preventDefault();loadData(t.target.elements.data.value)})),document.body.addEventListener("keydown",(t=>{"Enter"===t.code?(drawPoints.currentPoint=0,0===arrPoints.length&&(arrPoints=JSON.parse(localStorage.getItem("dataPoint")),drawPoints.currentPoint=Number(localStorage.getItem("lastPoint"))),draw()):"KeyQ"===t.code?(drawPoints.currentPoint--,draw()):(drawPoints.currentPoint++,draw())}));
//# sourceMappingURL=StringArtBot.b7f45920.js.map
