!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequireb035;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequireb035=a),a.register("hekXt",(function(t,n){e(t.exports,"PARAMS",(function(){return i})),e(t.exports,"nextPoint",(function(){return f}));var r=a("cQUjf");const i={COUNT_POINTS:100,DELAY_TIME:5},o={formElem:document.querySelector(".js-form"),form1Elem:document.querySelector(".js-form1"),canvas:document.querySelector("canvas"),btnElems:document.querySelector(".js-btn"),visibleBtn:document.querySelector(".js-visible-canvas")},l=o.canvas.getContext("2d");l.lineWidth=1;let c=[];const s={currentPoint:0};function u(){s.currentPoint=0,0===c.length&&(c=JSON.parse(localStorage.getItem("dataPoint")),s.currentPoint=Number(localStorage.getItem("lastPoint"))),v()}function f(){s.currentPoint++,v()}function d(){s.currentPoint--,v()}function v(){localStorage.setItem("points",JSON.stringify(s)),localStorage.setItem("lastPoint",s.currentPoint);const e=+(c[s.currentPoint-1]||0),t=+(c[s.currentPoint]||0),n=+(c[s.currentPoint+1]||0);o.form1Elem.elements.point.value=s.currentPoint,l.clearRect(0,0,o.canvas.width,o.canvas.height),function(e,t,n,r,...a){const o=2*Math.PI/n;for(let a=0;a<n;a++){let n=o*(i.COUNT_POINTS-(a-Math.round(i.COUNT_POINTS/4)));const l={x:t*Math.sin(n)+r.x,y:t*Math.cos(n)+r.y},c=a%10==0?4:2;e.fillStyle="black",e.beginPath(),e.ellipse(l.x,l.y,c,c,0,0,2*Math.PI),e.fill()}for(let n=0;n<a.length;n++){let l=o*(i.COUNT_POINTS-(+a[n]-Math.round(i.COUNT_POINTS/4)));const c={x:t*Math.sin(l)+r.x,y:t*Math.cos(l)+r.y};let s=5;switch(n){case 0:e.fillStyle="green";break;case 1:e.fillStyle="red",s=15;break;case 2:e.fillStyle="blue"}e.beginPath(),e.ellipse(c.x,c.y,s,s,0,0,2*Math.PI),e.fill()}}(l,o.canvas.width/2-5,i.COUNT_POINTS,{x:o.canvas.width/2,y:o.canvas.height/2},e,t,n);try{(0,r.speak)(c[s.currentPoint])}catch{console.log("err")}h(l,e,{x:o.canvas.width/2,y:o.canvas.height/2-200},40),h(l,t,{x:o.canvas.width/2,y:o.canvas.height/2}),h(l,n,{x:o.canvas.width/2,y:o.canvas.height/2+200},40)}function h(e,t,{x:n,y:r},a=100){e.fillStyle="black",e.font=`${a}px serif`,e.textAlign="center",e.fillText(t,n,r)}o.visibleBtn.addEventListener("change",(e=>{e.target.checked?o.canvas.style.visibility="hidden":o.canvas.style.visibility=""})),o.formElem.addEventListener("submit",(e=>{e.preventDefault();const t=e.target.elements.data.value;t?(c=t.split("\n"),localStorage.setItem("dataPoint",JSON.stringify(c)),localStorage.setItem("lastPoint",0)):u()})),o.form1Elem.addEventListener("submit",(e=>{e.preventDefault();const t=Number(e.target.elements.point.value),n=Number(e.target.elements.count.value),r=Number(e.target.elements.delay.value);i.COUNT_POINTS=n||i.COUNT_POINTS,i.DELAY_TIME=r||i.DELAY_TIME,function(e){s.currentPoint=e,v()}(t||s.currentPoint)})),document.body.addEventListener("keydown",(e=>{"Enter"===e.code?u():"ArrowLeft"===e.code?d():"ArrowRight"!==e.code&&"Space"!==e.code||f()})),o.btnElems.addEventListener("click",(e=>{if(e.target!=e.currentTarget){"prev"==e.target.closest("button").dataset.value?d():f()}})),o.canvas.addEventListener("click",(()=>{f()}))})),a.register("cQUjf",(function(t,n){e(t.exports,"speak",(function(){return r}));function r(e){var t=window.speechSynthesis,n="";if(0===[].length)var r=t.getVoices();for(var a=0;a<r.length;a++)"ru-RU"==r[a].lang&&(n=r[a]);var i=new SpeechSynthesisUtterance(e);i.voice=n,t.speak(i)}})),a("hekXt")}();
//# sourceMappingURL=StringArtBot.577a9d2c.js.map
