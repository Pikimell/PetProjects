StringArtGenerator.prototype.Clear=function(t){t.clearRect(0,0,this.width,this.height)},StringArtGenerator.prototype.GetLightness=function(t,i,h){return Math.floor(.2126*t+.7152*i+.0722*h)},StringArtGenerator.prototype.LimitPixel=function(t){return t<0?0:t>255?255:Math.round(t)},StringArtGenerator.prototype.DrawForm=function(){let t=this.formTypeBox.value;if(this.ctx.strokeStyle=BORDER_COLOR,this.ctx.beginPath(),t==CIRCLE_FORM)this.ctx.arc(this.x0,this.y0,this.radius+PADDING/2,0,2*Math.PI);else if(t==RECT_FORM)this.ctx.rect(0,0,this.width,this.height);else if(t==ALBUM_FORM){let t=this.width/Math.sqrt(2);this.ctx.rect(0,(this.height-t)/2,this.width,t)}else if(t==PORTRAIT_FORM){let t=this.height/Math.sqrt(2);this.ctx.rect((this.width-t)/2,0,t,this.height)}else t==IMAGE_FORM&&this.ctx.rect(0,0,this.imgWidth,this.imgHeight);this.ctx.fillStyle=this.backgroundColorBox.value,this.ctx.fill()},StringArtGenerator.prototype.DrawGrayScale=function(){this.Clear(this.fakeCtx),this.fakeCtx.drawImage(this.image,this.imgX,this.imgY,this.imgWidth*this.imgScale,this.imgHeight*this.imgScale);let t=this.fakeCtx.getImageData(0,0,this.width*this.dpr,this.height*this.dpr),i=t.data,h=this.invertBox.checked;for(let t=0;t<i.length;t+=4){let e=this.GetLightness(i[t],i[t+1],i[t+2]);h&&(e=255-e),e=this.brightnessTable[e],e=this.contrastTable[e],i[t]=e,i[t+1]=e,i[t+2]=e}this.fakeCtx.putImageData(t,0,0),this.ctx.drawImage(this.fakeCanvas,0,0,this.width,this.height)},StringArtGenerator.prototype.DrawLoadedImage=function(){this.Clear(this.ctx),this.ctx.save(),this.DrawForm(),this.ctx.clip(),this.DrawGrayScale(),this.ctx.stroke(),this.ctx.restore()},StringArtGenerator.prototype.DrawNails=function(){if(this.isDraw){this.DrawForm(),this.ctx.fillStyle=NAIL_COLOR;for(let t of this.nails)this.ctx.beginPath(),this.ctx.arc(t.x,t.y,NAIL_RADIUS,0,2*Math.PI),this.ctx.fill()}},StringArtGenerator.prototype.DrawLine=function(t,i,h){this.ctx.lineWidth=1,this.ctx.strokeStyle=h,this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke()};
//# sourceMappingURL=StringArtGenerator.d4f3b966.js.map
