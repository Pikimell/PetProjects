!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequireb035;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequireb035=o),o.register("hekXt",(function(t,n){e(t.exports,"PARAMS",(function(){return a})),e(t.exports,"nextPoint",(function(){return f}));var r=o("cQUjf");const a={COUNT_POINTS:100,DELAY_TIME:5},i={formElem:document.querySelector(".js-form"),form1Elem:document.querySelector(".js-form1"),canvas:document.querySelector("canvas"),btnElems:document.querySelector(".js-btn")},l=i.canvas.getContext("2d");l.lineWidth=1;let c=[];const s={currentPoint:0};function u(){s.currentPoint=0,0===c.length&&(c=JSON.parse(localStorage.getItem("dataPoint")),s.currentPoint=Number(localStorage.getItem("lastPoint"))),g()}function f(){s.currentPoint++,g()}function d(){s.currentPoint--,g()}function g(){localStorage.setItem("points",JSON.stringify(s)),localStorage.setItem("lastPoint",s.currentPoint);const e=+(c[s.currentPoint-1]||0),t=+(c[s.currentPoint]||0),n=+(c[s.currentPoint+1]||0);i.form1Elem.elements.point.value=s.currentPoint,l.clearRect(0,0,i.canvas.width,i.canvas.height),function(e,t,n,r,...o){const i=2*Math.PI/n;for(let o=0;o<n;o++){let n=i*(a.COUNT_POINTS-(o-Math.round(a.COUNT_POINTS/4)));const l={x:t*Math.sin(n)+r.x,y:t*Math.cos(n)+r.y},c=o%10==0?4:2;e.fillStyle="black",e.beginPath(),e.ellipse(l.x,l.y,c,c,0,0,2*Math.PI),e.fill()}for(let n=0;n<o.length;n++){let l=i*(a.COUNT_POINTS-(+o[n]-Math.round(a.COUNT_POINTS/4)));const c={x:t*Math.sin(l)+r.x,y:t*Math.cos(l)+r.y};let s=5;switch(n){case 0:e.fillStyle="green";break;case 1:e.fillStyle="red",s=15;break;case 2:e.fillStyle="blue"}e.beginPath(),e.ellipse(c.x,c.y,s,s,0,0,2*Math.PI),e.fill()}}(l,i.canvas.width/2-5,a.COUNT_POINTS,{x:i.canvas.width/2,y:i.canvas.height/2},e,t,n);try{(0,r.speak)(c[s.currentPoint])}catch{console.log("err")}h(l,e,{x:i.canvas.width/2,y:i.canvas.height/2-200},40),h(l,t,{x:i.canvas.width/2,y:i.canvas.height/2}),h(l,n,{x:i.canvas.width/2,y:i.canvas.height/2+200},40)}function h(e,t,{x:n,y:r},o=100){e.fillStyle="black",e.font=`${o}px serif`,e.textAlign="center",e.fillText(t,n,r)}i.formElem.addEventListener("submit",(e=>{e.preventDefault();const t=e.target.elements.data.value;t?(c=t.split("\n"),localStorage.setItem("dataPoint",JSON.stringify(c)),localStorage.setItem("lastPoint",0)):u()})),i.form1Elem.addEventListener("submit",(e=>{e.preventDefault();const t=Number(e.target.elements.point.value),n=Number(e.target.elements.count.value),r=Number(e.target.elements.delay.value);a.COUNT_POINTS=n,a.DELAY_TIME=r,function(e){s.currentPoint=e,g()}(t)})),document.body.addEventListener("keydown",(e=>{"Enter"===e.code?u():"ArrowLeft"===e.code?d():"ArrowRight"!==e.code&&"Space"!==e.code||f()})),i.btnElems.addEventListener("click",(e=>{if(e.target!=e.currentTarget){"prev"==e.target.closest("button").dataset.value?d():f()}})),i.canvas.addEventListener("click",(()=>{f()}))})),o.register("cQUjf",(function(t,n){e(t.exports,"speak",(function(){return r}));function r(e){var t=window.speechSynthesis,n="";if(0===[].length)var r=t.getVoices();for(var o=0;o<r.length;o++)"ru-RU"==r[o].lang&&(n=r[o]);var a=new SpeechSynthesisUtterance(e);a.voice=n,t.speak(a)}})),o("hekXt")}();
//# sourceMappingURL=StringArtBot.39daae17.js.map
