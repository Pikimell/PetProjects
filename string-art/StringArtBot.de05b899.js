function t(t){var e=window.speechSynthesis,n="";if(0===[].length)var a=e.getVoices();for(var r=0;r<a.length;r++)"ru-RU"==a[r].lang&&(n=a[r]);var o=new SpeechSynthesisUtterance(t);o.voice=n,e.speak(o)}const e={formElem:document.querySelector(".js-form"),form1Elem:document.querySelector(".js-form1"),canvas:document.querySelector("canvas"),btnElems:document.querySelector(".js-btn")},n=e.canvas.getContext("2d");n.lineWidth=1;let a=[];const r={currentPoint:0};function o(){r.currentPoint++,l()}function c(){r.currentPoint--,l()}function l(){localStorage.setItem("points",JSON.stringify(r)),localStorage.setItem("lastPoint",r.currentPoint);const o=+(a[r.currentPoint-1]||0),c=+(a[r.currentPoint]||0),l=+(a[r.currentPoint+1]||0);e.form1Elem.elements.point.value=r.currentPoint,n.clearRect(0,0,e.canvas.width,e.canvas.height),function(t,e,n,a,...r){const o=2*Math.PI/n;for(let r=0;r<n;r++){let n=o*r;const c={x:e*Math.sin(n)+a.x,y:e*Math.cos(n)+a.y},l=r%10==0?4:2;t.fillStyle="black",t.beginPath(),t.ellipse(c.x,c.y,l,l,0,0,2*Math.PI),t.fill()}for(let c=0;c<r.length;c++){let l=o*(n-+r[c]);const i={x:e*Math.sin(l)+a.x,y:e*Math.cos(l)+a.y};let s=5;switch(c){case 0:t.fillStyle="green";break;case 1:t.fillStyle="red",s=15;break;case 2:t.fillStyle="blue"}t.beginPath(),t.ellipse(i.x,i.y,s,s,0,0,2*Math.PI),t.fill()}}(n,e.canvas.width/2-5,300,{x:e.canvas.width/2,y:e.canvas.height/2},o,c,l);try{t(a[r.currentPoint])}catch{console.log("err")}i(n,o,{x:e.canvas.width/2,y:e.canvas.height/2-200},40),i(n,c,{x:e.canvas.width/2,y:e.canvas.height/2}),i(n,l,{x:e.canvas.width/2,y:e.canvas.height/2+200},40)}function i(t,e,{x:n,y:a},r=100){t.fillStyle="black",t.font=`${r}px serif`,t.textAlign="center",t.fillText(e,n,a)}e.formElem.addEventListener("submit",(t=>{t.preventDefault();const e=t.target.elements.data.value;a=e.split("\n"),localStorage.setItem("dataPoint",JSON.stringify(a)),localStorage.setItem("lastPoint",0)})),e.form1Elem.addEventListener("submit",(t=>{t.preventDefault();!function(t){r.currentPoint=t,l()}(Number(t.target.elements.point.value))})),document.body.addEventListener("keydown",(t=>{"Enter"===t.code?function(){r.currentPoint=0,0===a.length&&(a=JSON.parse(localStorage.getItem("dataPoint")),r.currentPoint=Number(localStorage.getItem("lastPoint")));l()}():"ArrowLeft"===t.code?c():"ArrowRight"!==t.code&&"Space"!==t.code||o()})),e.btnElems.addEventListener("click",(t=>{if(t.target!=t.currentTarget){"prev"==t.target.closest("button").dataset.value?c():o()}}));
//# sourceMappingURL=StringArtBot.de05b899.js.map
