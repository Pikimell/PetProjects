!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequireb035;function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function a(e,t){return t.get?t.get.call(e):t.value}function s(e,t){return a(e,r(e,t,"get"))}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,n){c(e,t),t.set(e,n)}function o(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function u(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function h(e,t,n){return o(e,t),u(n,"get"),a(e,n)}function d(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function f(e,t,n,i){return o(e,t),u(n,"set"),d(e,n,i),i}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,i.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequireb035=i);class p{show(){h(p,p,w).fillStyle="black";const e=this.center;this.drawEllipse(e),this.drawLine(e,this.currentPoint)}nextIteration(){(Math.abs(this.angle-180)/90).toFixed(2);this.angle+=this.step,this.angle%=360;const e=2*Math.PI/360;this.currentPoint.x=this.radius*Math.cos(this.angle*e)+this.center.x,this.currentPoint.y=this.radius*Math.sin(this.angle*e)+this.center.y}drawLine(e,t){h(p,p,w).moveTo(e.x,e.y),h(p,p,w).lineTo(t.x,t.y),h(p,p,w).stroke(),this.drawDot(t)}drawDot(e){h(p,p,w).fillStyle="red",h(p,p,w).beginPath(),h(p,p,w).ellipse(e.x,e.y,5,5,0,0,2*Math.PI),h(p,p,w).fill(),h(p,p,w).beginPath(),h(p,p,w).fillStyle="black"}drawEllipse(e){h(p,p,w).beginPath(),h(p,p,w).ellipse(e.x,e.y,this.radius,this.radius,0,0,2*Math.PI),h(p,p,w).closePath(),h(p,p,w).strokeStyle="black",h(p,p,w).stroke()}static clearCanvas(){h(p,p,w).clearRect(0,0,1e4,1e4)}static get canvas(){return h(this,p,w)}constructor({canvas:e,center:t,step:n=1,radius:i=25}){v(this,"radius",25),v(this,"center",new E),v(this,"angle",0),v(this,"currentPoint",new E);const{x:r,y:a}=t;this.center=new E(r,a),this.radius=i,f(p,p,w,e.getContext("2d")),h(p,p,w).lineWidth=5,h(p,p,w).lineCap="round",this.step=n}}var w={writable:!0,value:void 0},g=new WeakMap;class E{constructor(e=0,t=0){l(this,g,{writable:!0,value:60}),v(this,"x",void 0),v(this,"y",void 0),this.x=e+s(this,g),this.y=t+s(this,g)}}var y=i("48XYA");let C=null;const I={canvas:document.querySelector(".js-canvas1"),canvas2:document.querySelector(".js-canvas2"),saveBtn:document.querySelector(".js-save-btn")},b={circlesX:[],circlesY:[],LENX:5,LENY:5,CIRCLE_RADIUS:50,colorBrush:"blue",widthBrush:2};function L(){C&&clearInterval(C);for(let e=0;e<b.LENX;e++){const t={x:e*(2*b.CIRCLE_RADIUS+20),y:0*(2*b.CIRCLE_RADIUS+20)};b.circlesX[e]=new p({canvas:I.canvas,center:t,step:e+1,radius:b.CIRCLE_RADIUS})}for(let e=0;e<b.LENY;e++){const t={x:0*(2*b.CIRCLE_RADIUS+20),y:e*(2*b.CIRCLE_RADIUS+20)};b.circlesY[e]=new p({canvas:I.canvas,center:t,step:e+1,radius:b.CIRCLE_RADIUS})}C=setInterval((()=>{p.clearCanvas(),function(){for(let e=1;e<b.LENX;e++)b.circlesX[e].nextIteration(),b.circlesX[e].show();for(let e=1;e<b.LENY;e++)b.circlesY[e].nextIteration(),b.circlesY[e].show();for(let e=1;e<b.LENX;e++)for(let t=1;t<b.LENY;t++){R(b.circlesX[e].currentPoint.x,b.circlesY[t].currentPoint.y)}}()}),10)}function R(e,t){const n=b.widthBrush,i=I.canvas2.getContext("2d");i.fillStyle=b.colorBrush,i.beginPath(),i.ellipse(e,t,n,n,0,0,2*Math.PI),i.fill(),i.beginPath(),i.fillStyle="black"}I.canvas.width=b.LENX*(2*b.CIRCLE_RADIUS+20),I.canvas.height=b.LENY*(2*b.CIRCLE_RADIUS+20),I.canvas2.width=b.LENX*(2*b.CIRCLE_RADIUS+20),I.canvas2.height=b.LENY*(2*b.CIRCLE_RADIUS+20),L(),I.saveBtn.addEventListener("click",(()=>{let e=document.createElement("a");e.setAttribute("download","CanvasAsImage.png");let t=I.canvas2.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream");e.setAttribute("href",t),e.click()})),document.querySelector(".js-control-form").addEventListener("submit",(e=>{e.preventDefault(),p.clearCanvas();I.canvas2.getContext("2d").clearRect(0,0,1e4,1e4),(0,y.default)(L,b,e.target)}))}();
//# sourceMappingURL=index.f51a28f4.js.map
