!function(){function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const t="UP",s="DOWN",i="LEFT",a="RIGHT";class n{constructor(t=0,s=0){e(this,"x",void 0),e(this,"y",void 0),this.x=t,this.y=s}}function h(e,t,s){if(!t.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return t.get(e)}function o(e,t){return t.get?t.get.call(e):t.value}function r(e,t){return o(e,h(e,t,"get"))}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,s){c(e,t),t.set(e,s)}var d=new WeakMap;const k={canvas:document.querySelector(".js-canvas"),startBtn:document.querySelector(".js-start-btn")},v={idInterval:null,fps:100},y=new class{updateSnakePosition(){const e=this.snakeBody.pop();e.x=this.snakeHead.x,e.y=this.snakeHead.y,this.snakeBody.splice(1,0,e)}move(){switch(this.direction){case t:this.snakeHead.y-=this.speed;break;case s:this.snakeHead.y+=this.speed;break;case a:this.snakeHead.x+=this.speed;break;case i:this.snakeHead.x-=this.speed}}cahngeDirection(e){switch(e){case"KeyW":case"ArrowDown":this.direction!=s&&(this.direction=t);break;case"KeyS":case"ArrowUp":this.direction!=t&&(this.direction=s);break;case"KeyA":case"ArrowRight":this.direction!=a&&(this.direction=i);break;case"KeyD":case"ArrowLeft":this.direction!=i&&(this.direction=a)}}resetSnake(){this.direction=a,this.snakeHead=new n,this.snakeBody=[],this.snakeBody.push(this.snakeHead);for(let e=0;e<5;e++)this.snakeBody.push(new n)}increaseSnake(){const e={...this.snakeBody[this.lengthSnake-1]};this.snakeBody.push(e),this.lengthSnake++}constructor(t){e(this,"direction",a),e(this,"speed",1),e(this,"snakeBody",[]),e(this,"snakeHead",new n),e(this,"lengthSnake",1),this.snakeBody.push(this.snakeHead);for(let e=0;e<t;e++)this.snakeBody.push(new n),this.lengthSnake++}}(5),u=new class{showMap(){this.canvas.clearRect(0,0,this.rectCanvas.width,this.rectCanvas.height),this.showFood(),this.snake.updateSnakePosition(),this.snake.move(),this.isSheFull(),this.snake.snakeBody.forEach((({x:e,y:t})=>{this.canvas.fillStyle="red",this.canvas.fillRect(e*r(this,d),t*r(this,d),r(this,d),r(this,d)),this.canvas.fillStyle="black",this.canvas.fillRect(e*r(this,d)+2,t*r(this,d)+2,r(this,d)-4,r(this,d)-4)})),this.snake.snakeBody.forEach((({x:e,y:t})=>{this.canvas.fillStyle="red",this.canvas.fillRect((this.lenX-e)*r(this,d),(this.lenY-t)*r(this,d),r(this,d),r(this,d)),this.canvas.fillStyle="black",this.canvas.fillRect((this.lenX-e)*r(this,d)+2,(this.lenY-t)*r(this,d)+2,r(this,d)-4,r(this,d)-4)}))}genereteFood(){const e=Math.round(Math.random()*this.lenX),t=Math.round(Math.random()*this.lenY);this.food={x:e,y:t}}showFood(){this.canvas.fillStyle="green",this.canvas.fillRect(this.food.x*r(this,d),this.food.y*r(this,d),r(this,d),r(this,d))}isSheFull(){this.snake.snakeHead.x===this.food.x&&this.snake.snakeHead.y===this.food.y&&(this.genereteFood(),this.snake.increaseSnake())}gameOver(){const{x:e,y:t}=this.snake.snakeHead;return e<0||(t<0||(e>this.lenX||t>this.lenY))}clearMap(){this.canvas.clearRect(0,0,this.rectCanvas.width,this.rectCanvas.height)}constructor(t,s,i,a){e(this,"lenX",void 0),e(this,"lenY",void 0),e(this,"snake",void 0),e(this,"canvas",void 0),e(this,"rectCanvas",void 0),l(this,d,{writable:!0,value:20}),e(this,"food",void 0),this.snake=t,this.lenX=s,this.lenY=i,this.canvas=a.getContext("2d"),this.rectCanvas={width:a.width,height:a.height},this.canvas.fillStyle="green",this.genereteFood()}}(y,39,34,k.canvas);k.startBtn.addEventListener("click",(e=>{v.idInterval?(clearInterval(v.idInterval),v.idInterval=null):v.idInterval=setInterval((()=>{u.gameOver()?(u.clearMap(),clearInterval(v.idInterval),v.idInterval=null,y.resetSnake(),alert("GAME OVER")):u.showMap()}),v.fps)})),document.addEventListener("keydown",(e=>{y.cahngeDirection(e.code)}))}();
//# sourceMappingURL=index.e6594eca.js.map
